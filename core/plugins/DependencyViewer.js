(()=>{var Mn=Object.create;var xt=Object.defineProperty;var En=Object.getOwnPropertyDescriptor;var Wn=Object.getOwnPropertyNames;var qn=Object.getPrototypeOf,Un=Object.prototype.hasOwnProperty;var jr=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports);var On=(r,t,n,e)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Wn(t))!Un.call(r,o)&&o!==n&&xt(r,o,{get:()=>t[o],enumerable:!(e=En(t,o))||e.enumerable});return r};var b=(r,t,n)=>(n=r!=null?Mn(qn(r)):{},On(t||!r||!r.__esModule?xt(n,"default",{value:r,enumerable:!0}):n,r));var F=jr(f=>{"use strict";var Sn=f&&f.__spreadArray||function(r,t,n){if(n||arguments.length===2)for(var e=0,o=t.length,u;e<o;e++)(u||!(e in t))&&(u||(u=Array.prototype.slice.call(t,0,e)),u[e]=t[e]);return r.concat(u||Array.prototype.slice.call(t))};Object.defineProperty(f,"__esModule",{value:!0});f.dual=f.getEndomorphismMonoid=f.SK=f.hole=f.constVoid=f.constUndefined=f.constNull=f.constFalse=f.constTrue=f.unsafeCoerce=f.apply=f.getRing=f.getSemiring=f.getMonoid=f.getSemigroup=f.getBooleanAlgebra=void 0;f.identity=Kr;f.constant=$;f.flip=Dn;f.flow=dt;f.tuple=Cn;f.increment=Bn;f.decrement=Pn;f.absurd=ht;f.tupled=jn;f.untupled=Kn;f.pipe=zn;f.not=kn;var wn=function(r){return function(){return{meet:function(t,n){return function(e){return r.meet(t(e),n(e))}},join:function(t,n){return function(e){return r.join(t(e),n(e))}},zero:function(){return r.zero},one:function(){return r.one},implies:function(t,n){return function(e){return r.implies(t(e),n(e))}},not:function(t){return function(n){return r.not(t(n))}}}}};f.getBooleanAlgebra=wn;var Nn=function(r){return function(){return{concat:function(t,n){return function(e){return r.concat(t(e),n(e))}}}}};f.getSemigroup=Nn;var bn=function(r){var t=(0,f.getSemigroup)(r);return function(){return{concat:t().concat,empty:function(){return r.empty}}}};f.getMonoid=bn;var Fn=function(r){return{add:function(t,n){return function(e){return r.add(t(e),n(e))}},zero:function(){return r.zero},mul:function(t,n){return function(e){return r.mul(t(e),n(e))}},one:function(){return r.one}}};f.getSemiring=Fn;var Vn=function(r){var t=(0,f.getSemiring)(r);return{add:t.add,mul:t.mul,one:t.one,zero:t.zero,sub:function(n,e){return function(o){return r.sub(n(o),e(o))}}}};f.getRing=Vn;var Ln=function(r){return function(t){return t(r)}};f.apply=Ln;function Kr(r){return r}f.unsafeCoerce=Kr;function $(r){return function(){return r}}f.constTrue=$(!0);f.constFalse=$(!1);f.constNull=$(null);f.constUndefined=$(void 0);f.constVoid=f.constUndefined;function Dn(r){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.length>1?r(t[1],t[0]):function(e){return r(e)(t[0])}}}function dt(r,t,n,e,o,u,i,a,c){switch(arguments.length){case 1:return r;case 2:return function(){return t(r.apply(this,arguments))};case 3:return function(){return n(t(r.apply(this,arguments)))};case 4:return function(){return e(n(t(r.apply(this,arguments))))};case 5:return function(){return o(e(n(t(r.apply(this,arguments)))))};case 6:return function(){return u(o(e(n(t(r.apply(this,arguments))))))};case 7:return function(){return i(u(o(e(n(t(r.apply(this,arguments)))))))};case 8:return function(){return a(i(u(o(e(n(t(r.apply(this,arguments))))))))};case 9:return function(){return c(a(i(u(o(e(n(t(r.apply(this,arguments)))))))))}}}function Cn(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return r}function Bn(r){return r+1}function Pn(r){return r-1}function ht(r){throw new Error("Called `absurd` function which should be uncallable")}function jn(r){return function(t){return r.apply(void 0,t)}}function Kn(r){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return r(t)}}function zn(r,t,n,e,o,u,i,a,c){switch(arguments.length){case 1:return r;case 2:return t(r);case 3:return n(t(r));case 4:return e(n(t(r)));case 5:return o(e(n(t(r))));case 6:return u(o(e(n(t(r)))));case 7:return i(u(o(e(n(t(r))))));case 8:return a(i(u(o(e(n(t(r)))))));case 9:return c(a(i(u(o(e(n(t(r))))))));default:{for(var l=arguments[0],x=1;x<arguments.length;x++)l=arguments[x](l);return l}}}f.hole=ht;var Hn=function(r,t){return t};f.SK=Hn;function kn(r){return function(t){return!r(t)}}var Jn=function(){return{concat:function(r,t){return dt(r,t)},empty:Kr}};f.getEndomorphismMonoid=Jn;var Gn=function(r,t){var n=typeof r=="number"?function(e){return e.length>=r}:r;return function(){var e=Array.from(arguments);return n(arguments)?t.apply(this,e):function(o){return t.apply(void 0,Sn([o],e,!1))}}};f.dual=Gn});var Lr=jr(v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});v.eqDate=v.eqNumber=v.eqString=v.eqBoolean=v.eq=v.strictEqual=v.getStructEq=v.getTupleEq=v.Contravariant=v.getMonoid=v.getSemigroup=v.eqStrict=v.URI=v.contramap=v.tuple=v.struct=v.fromEquals=void 0;var Ro=F(),_o=function(r){return{equals:function(t,n){return t===n||r(t,n)}}};v.fromEquals=_o;var To=function(r){return(0,v.fromEquals)(function(t,n){for(var e in r)if(!r[e].equals(t[e],n[e]))return!1;return!0})};v.struct=To;var Io=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return(0,v.fromEquals)(function(n,e){return r.every(function(o,u){return o.equals(n[u],e[u])})})};v.tuple=Io;var Ao=function(r,t){return(0,Ro.pipe)(r,(0,v.contramap)(t))},Mo=function(r){return function(t){return(0,v.fromEquals)(function(n,e){return t.equals(r(n),r(e))})}};v.contramap=Mo;v.URI="Eq";v.eqStrict={equals:function(r,t){return r===t}};var Eo={equals:function(){return!0}},Wo=function(){return{concat:function(r,t){return(0,v.fromEquals)(function(n,e){return r.equals(n,e)&&t.equals(n,e)})}}};v.getSemigroup=Wo;var qo=function(){return{concat:(0,v.getSemigroup)().concat,empty:Eo}};v.getMonoid=qo;v.Contravariant={URI:v.URI,contramap:Ao};v.getTupleEq=v.tuple;v.getStructEq=v.struct;v.strictEqual=v.eqStrict.equals;v.eq=v.Contravariant;v.eqBoolean=v.eqStrict;v.eqString=v.eqStrict;v.eqNumber=v.eqStrict;v.eqDate={equals:function(r,t){return r.valueOf()===t.valueOf()}}});var Tn=jr(p=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});p.ordDate=p.ordNumber=p.ordString=p.ordBoolean=p.ord=p.getDualOrd=p.getTupleOrd=p.between=p.clamp=p.max=p.min=p.geq=p.leq=p.gt=p.lt=p.equals=p.trivial=p.Contravariant=p.getMonoid=p.getSemigroup=p.URI=p.contramap=p.reverse=p.tuple=p.fromCompare=p.equalsDefault=void 0;var Jo=Lr(),Pr=F(),Go=function(r){return function(t,n){return t===n||r(t,n)===0}};p.equalsDefault=Go;var Zo=function(r){return{equals:(0,p.equalsDefault)(r),compare:function(t,n){return t===n?0:r(t,n)}}};p.fromCompare=Zo;var $o=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return(0,p.fromCompare)(function(n,e){for(var o=0;o<r.length-1;o++){var u=r[o].compare(n[o],e[o]);if(u!==0)return u}return r[o].compare(n[o],e[o])})};p.tuple=$o;var Xo=function(r){return(0,p.fromCompare)(function(t,n){return r.compare(n,t)})};p.reverse=Xo;var Qo=function(r,t){return(0,Pr.pipe)(r,(0,p.contramap)(t))},Yo=function(r){return function(t){return(0,p.fromCompare)(function(n,e){return t.compare(r(n),r(e))})}};p.contramap=Yo;p.URI="Ord";var ru=function(){return{concat:function(r,t){return(0,p.fromCompare)(function(n,e){var o=r.compare(n,e);return o!==0?o:t.compare(n,e)})}}};p.getSemigroup=ru;var tu=function(){return{concat:(0,p.getSemigroup)().concat,empty:(0,p.fromCompare)(function(){return 0})}};p.getMonoid=tu;p.Contravariant={URI:p.URI,contramap:Qo};p.trivial={equals:Pr.constTrue,compare:(0,Pr.constant)(0)};var nu=function(r){return function(t){return function(n){return n===t||r.compare(n,t)===0}}};p.equals=nu;var eu=function(r){return function(t,n){return r.compare(t,n)===-1}};p.lt=eu;var ou=function(r){return function(t,n){return r.compare(t,n)===1}};p.gt=ou;var uu=function(r){return function(t,n){return r.compare(t,n)!==1}};p.leq=uu;var au=function(r){return function(t,n){return r.compare(t,n)!==-1}};p.geq=au;var iu=function(r){return function(t,n){return t===n||r.compare(t,n)<1?t:n}};p.min=iu;var pu=function(r){return function(t,n){return t===n||r.compare(t,n)>-1?t:n}};p.max=pu;var cu=function(r){var t=(0,p.min)(r),n=(0,p.max)(r);return function(e,o){return function(u){return n(t(u,o),e)}}};p.clamp=cu;var fu=function(r){var t=(0,p.lt)(r),n=(0,p.gt)(r);return function(e,o){return function(u){return!(t(u,e)||n(u,o))}}};p.between=fu;p.getTupleOrd=p.tuple;p.getDualOrd=p.reverse;p.ord=p.Contravariant;function vu(r,t){return r<t?-1:r>t?1:0}var ct={equals:Jo.eqStrict.equals,compare:vu};p.ordBoolean=ct;p.ordString=ct;p.ordNumber=ct;p.ordDate=(0,Pr.pipe)(p.ordNumber,(0,p.contramap)(function(r){return r.valueOf()}))});var D=class r{_kind="Frag";_kids=[];_attrs=[];_text=null;kind(t){return this._kind=t,this}kids(t){return this._kids=t,this}attrs(t){return this._attrs=t,this}text(t){return this._text=t,this}build(){return{kind:this._kind,kids:this._kids.map(t=>t instanceof r?t.build():t),attrs:this._attrs,text:this._text}}};var Zn=function(r,t,n){if(n||arguments.length===2)for(var e=0,o=t.length,u;e<o;e++)(u||!(e in t))&&(u||(u=Array.prototype.slice.call(t,0,e)),u[e]=t[e]);return r.concat(u||Array.prototype.slice.call(t))};function dr(r){return r}function hr(r,t,n,e,o,u,i,a,c){switch(arguments.length){case 1:return r;case 2:return function(){return t(r.apply(this,arguments))};case 3:return function(){return n(t(r.apply(this,arguments)))};case 4:return function(){return e(n(t(r.apply(this,arguments))))};case 5:return function(){return o(e(n(t(r.apply(this,arguments)))))};case 6:return function(){return u(o(e(n(t(r.apply(this,arguments))))))};case 7:return function(){return i(u(o(e(n(t(r.apply(this,arguments)))))))};case 8:return function(){return a(i(u(o(e(n(t(r.apply(this,arguments))))))))};case 9:return function(){return c(a(i(u(o(e(n(t(r.apply(this,arguments)))))))))}}}function O(r,t,n,e,o,u,i,a,c){switch(arguments.length){case 1:return r;case 2:return t(r);case 3:return n(t(r));case 4:return e(n(t(r)));case 5:return o(e(n(t(r))));case 6:return u(o(e(n(t(r)))));case 7:return i(u(o(e(n(t(r))))));case 8:return a(i(u(o(e(n(t(r)))))));case 9:return c(a(i(u(o(e(n(t(r))))))));default:{for(var l=arguments[0],x=1;x<arguments.length;x++)l=arguments[x](l);return l}}}var W=function(r,t){var n=typeof r=="number"?function(e){return e.length>=r}:r;return function(){var e=Array.from(arguments);return n(arguments)?t.apply(this,e):function(o){return t.apply(void 0,Zn([o],e,!1))}}};var $n=function(r,t,n){if(n||arguments.length===2)for(var e=0,o=t.length,u;e<o;e++)(u||!(e in t))&&(u||(u=Array.prototype.slice.call(t,0,e)),u[e]=t[e]);return r.concat(u||Array.prototype.slice.call(t))};var mr=function(r){return r._tag==="Some"},V={_tag:"None"},L=function(r){return{_tag:"Some",value:r}},gr=function(r){return r._tag==="Left"};var mt=function(r){return{_tag:"Left",left:r}},gt=function(r){return{_tag:"Right",right:r}};var yr=function(r){return r.length>0},Rr=function(r){return r[0]};var zr=function(r){return $n([r[0]],r.slice(1),!0)};function z(r){return function(t,n){return r.chain(t,function(e){return r.map(n(e),function(){return e})})}}function Rt(r){return function(t){return hr(t,r.fromEither)}}function _t(r,t){var n=Rt(r),e=z(t);return function(o,u){return e(o,n(u))}}function X(r){return function(t,n){return r.map(t,function(){return n})}}function _r(r){var t=X(r);return function(n){return t(n,void 0)}}var Tt=function(r){return{equals:function(t,n){return t===n||r(t,n)}}};var Hr={equals:function(r,t){return r===t}};var Tu=Hr.equals;var Xn=function(r){return function(t,n){return t===n||r(t,n)===0}},It=function(r){return{equals:Xn(r),compare:function(t,n){return t===n?0:r(t,n)}}};function Qn(r,t){return r<t?-1:r>t?1:0}var Mu={equals:Hr.equals,compare:Qn};var Mt=yr;var re=Rr;var Tr=re;var ee=function(r,t,n){if(n||arguments.length===2)for(var e=0,o=t.length,u;e<o;e++)(u||!(e in t))&&(u||(u=Array.prototype.slice.call(t,0,e)),u[e]=t[e]);return r.concat(u||Array.prototype.slice.call(t))},Wt=function(r){return r.length>0};var qt=function(r){return function(t){return ee([r],t,!0)}},kr=qt;var Ut=function(r){return function(t){if(t.length===1)return St(t);for(var n=[Y(t)],e=Ir(t),o=function(c){n.every(function(l){return!r.equals(l,c)})&&n.push(c)},u=0,i=e;u<i.length;u++){var a=i[u];o(a)}return n}};var Ot=function(r){var t=Ut(r);return function(n){return function(e){return t(O(e,ue(n)))}}};var oe=zr;function ue(r,t){return t?r.concat(t):function(n){return n.concat(r)}}var St=oe;var wt=function(r){return function(t){var n=Math.max(1,r);return n>=t.length?[St(t),[]]:[O(t.slice(1,n),kr(Y(t))),t.slice(n)]}};var Y=Tr,Ir=function(r){return r.slice(1)};var rr={equals:function(r,t){return r===t}},Jr={equals:rr.equals,compare:function(r,t){return r<t?-1:r>t?1:0}},Pu={equals:rr.equals,compare:Jr.compare,top:1/0,bottom:-1/0};var ae={concat:function(r,t){return r-t}},bt={concat:function(r,t){return r+t}},Ft={concat:function(r,t){return r*t}},ju={concat:bt.concat,empty:0},Ku={concat:Ft.concat,empty:1},zu={add:bt.concat,zero:0,mul:Ft.concat,one:1,sub:ae.concat,degree:function(r){return 1},div:function(r,t){return r/t},mod:function(r,t){return r%t}};var ce=Mt;var Vt=function(r){return ce(r)?L(Tr(r)):V};function Lt(r){return function(t){for(var n=0;n<t.length;n++)if(r(t[n]))return L(t[n]);return V}}var Dt=function(r){return function(t){return function(n){return n.reduce(function(e,o,u){return r.concat(e,t(u,o))},r.empty)}}},Ct=function(r,t){return Pt(r,function(n,e,o){return t(e,o)})},Bt=function(r){var t=Dt(r);return function(n){return t(function(e,o){return n(o)})}},Pt=function(r,t){return function(n){for(var e=n.length,o=r,u=0;u<e;u++)o=t(u,o,n[u]);return o}};var jt=function(r){return Tt(function(t,n){return t.length===n.length&&t.every(function(e,o){return r.equals(e,n[o])})})},Kt=function(r){return It(function(t,n){for(var e=t.length,o=n.length,u=Math.min(e,o),i=0;i<u;i++){var a=r.compare(t[i],n[i]);if(a!==0)return a}return Jr.compare(e,o)})};var ve=function(r){return r.length===0},H=Wt,Gr=kr;var Zr=Vt;var le=function(r,t){for(var n=r.length,e=0;e<n&&t(r[e]);e++);return e};function zt(r){return function(t){var n=xe(le(t,r))(t),e=n[0],o=n[1];return{init:e,rest:o}}}function Ht(r){return Lt(r)}var Ar=function(r){return r.slice()};var se=function(r,t,n){for(var e=[],o=Math.min(r.length,t.length),u=0;u<o;u++)e[u]=n(r[u],t[u]);return e};function Mr(r,t){return t===void 0?function(n){return Mr(n,r)}:se(r,t,function(n,e){return[n,e]})}var xe=function(r){return function(t){return r>=1&&H(t)?wt(r)(t):ve(t)?[Ar(t),[]]:[[],Ar(t)]}};function Er(r){var t=Ot(r);return function(n,e){if(e===void 0){var o=Er(r);return function(u){return o(u,n)}}return H(n)&&H(e)?t(e)(n):H(n)?Ar(n):Ar(e)}}var $r=function(r){return function(t){return t.map(function(n){return r(n)})}};var de=function(r){return function(t){for(var n=[],e=0;e<t.length;e++){var o=r(e,t[e]);mr(o)&&n.push(o.value)}return n}},C=function(r){return de(function(t,n){return r(n)})};var Wr=function(r){return function(t){return t.filter(r)}};var Xr=Bt;var Qr=Ct;var Yr=jt,kt=Kt;var k={equals:function(r,t){return r===t}},he={concat:function(r,t){return r+t}},me="",Qa={concat:he.concat,empty:me},Jt={equals:k.equals,compare:function(r,t){return r<t?-1:r>t?1:0}};var Gt=mt,Ur=gt,Ie=W(2,function(r,t){return _(r)?r:t(r.right)}),Zt=function(r,t){return O(r,Me(t))},Ae=function(r,t){return O(r,We(t))};var rt="Either";var Me=function(r){return function(t){return _(t)?t:Ur(r(t.right))}},$t={URI:rt,map:Zt},ii=W(2,X($t)),pi=_r($t);var Ee=function(r){return function(t){return _(t)?t:_(r)?r:Ur(t.right(r.right))}},We=Ee;var qe={URI:rt,map:Zt,ap:Ae,chain:Ie};var Ue={URI:rt,fromEither:dr};var _=gr;var ci=W(2,z(qe));var fi={fromEither:Ue.fromEither};var d=function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(e[u]=o[u])},r(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}}(),Or=function(){return Or=Object.assign||function(r){for(var t,n=1,e=arguments.length;n<e;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},Or.apply(this,arguments)};var nr=Gt,T=function(r,t,n){return nr([{value:r,context:t,message:n}])},R=Ur,h=function(){function r(t,n,e,o){this.name=t,this.is=n,this.validate=e,this.encode=o,this.decode=this.decode.bind(this)}return r.prototype.pipe=function(t,n){var e=this;return n===void 0&&(n="pipe(".concat(this.name,", ").concat(t.name,")")),new r(n,t.is,function(o,u){var i=e.validate(o,u);return _(i)?i:t.validate(i.right,u)},this.encode===m&&t.encode===m?m:function(o){return e.encode(t.encode(o))})},r.prototype.asDecoder=function(){return this},r.prototype.asEncoder=function(){return this},r.prototype.decode=function(t){return this.validate(t,[{key:"",type:this,actual:t}])},r}();var m=function(r){return r};function Oe(r){return r.displayName||r.name||"<function".concat(r.length,">")}function tr(r,t,n,e){for(var o=r.length,u=Array(o+1),i=0;i<o;i++)u[i]=r[i];return u[o]={key:t,type:n,actual:e},u}function Fr(r,t){for(var n=t.length,e=0;e<n;e++)r.push(t[e])}var Sr=Object.prototype.hasOwnProperty;function Se(r){return Object.keys(r).map(function(t){return"".concat(t,": ").concat(r[t].name)}).join(", ")}function wr(r){for(var t=0;t<r.length;t++)if(r[t].encode!==m)return!1;return!0}function we(r){return"{ ".concat(Se(r)," }")}function Ne(r){return"("+r.map(function(t){return t.name}).join(" | ")+")"}function be(r){return r.length>0}var A={};function Qt(r,t){for(var n=[],e=0,o=r;e<o.length;e++){var u=o[e];t.indexOf(u)!==-1&&n.push(u)}return n}function Fe(r,t){if(r===A)return t;if(t===A)return r;var n=Object.assign({},r);for(var e in t)if(Sr.call(r,e)){var o=Qt(r[e],t[e]);if(be(o))n[e]=o;else{n=A;break}}else n[e]=t[e];return n}function Ve(r,t){if(r===A||t===A)return A;var n=A;for(var e in r)if(Sr.call(t,e)){var o=Qt(r[e],t[e]);o.length===0&&(n===A&&(n={}),n[e]=r[e].concat(t[e]))}return n}function Le(r){return r._tag==="LiteralType"}function De(r){return r._tag==="InterfaceType"}function Ce(r){return r._tag==="StrictType"}function Be(r){return r._tag==="ExactType"}function Pe(r){return r._tag==="RefinementType"}function je(r){return r._tag==="IntersectionType"}function Ke(r){return r._tag==="UnionType"}function ze(r){return r._tag==="RecursiveType"}var tt=[];function B(r){if(tt.indexOf(r)!==-1)return A;if(De(r)||Ce(r)){var t=A;for(var n in r.props){var e=r.props[n];Le(e)&&(t===A&&(t={}),t[n]=[e.value])}return t}else{if(Be(r)||Pe(r))return B(r.type);if(je(r))return r.types.reduce(function(u,i){return Fe(u,B(i))},A);if(Ke(r))return r.types.slice(1).reduce(function(u,i){return Ve(u,B(i))},B(r.types[0]));if(ze(r)){tt.push(r);var o=B(r.type);return tt.pop(),o}}return A}function He(r){var t=B(r[0]),n=Object.keys(t),e=r.length,o=function(l){for(var x=t[l].slice(),y=[t[l]],g=1;g<e;g++){var w=r[g],xr=B(w),N=xr[l];if(N===void 0)return"continue-keys";if(N.some(function(Z){return x.indexOf(Z)!==-1}))return"continue-keys";x.push.apply(x,N),y.push(N)}return{value:[l,y]}};r:for(var u=0,i=n;u<i.length;u++){var a=i[u],c=o(a);if(typeof c=="object")return c.value;switch(c){case"continue-keys":continue r}}}var ke=function(r){d(t,r);function t(){var n=r.call(this,"null",function(e){return e===null},function(e,o){return n.is(e)?R(e):T(e,o)},m)||this;return n._tag="NullType",n}return t}(h);var Yt=new ke,Je=function(r){d(t,r);function t(){var n=r.call(this,"undefined",function(e){return e===void 0},function(e,o){return n.is(e)?R(e):T(e,o)},m)||this;return n._tag="UndefinedType",n}return t}(h);var Xt=new Je,Ge=function(r){d(t,r);function t(){var n=r.call(this,"void",Xt.is,Xt.validate,m)||this;return n._tag="VoidType",n}return t}(h);var si=new Ge,Ze=function(r){d(t,r);function t(){var n=r.call(this,"unknown",function(e){return!0},R,m)||this;return n._tag="UnknownType",n}return t}(h);var xi=new Ze,$e=function(r){d(t,r);function t(){var n=r.call(this,"string",function(e){return typeof e=="string"},function(e,o){return n.is(e)?R(e):T(e,o)},m)||this;return n._tag="StringType",n}return t}(h);var q=new $e,Xe=function(r){d(t,r);function t(){var n=r.call(this,"number",function(e){return typeof e=="number"},function(e,o){return n.is(e)?R(e):T(e,o)},m)||this;return n._tag="NumberType",n}return t}(h);var er=new Xe,Qe=function(r){d(t,r);function t(){var n=r.call(this,"bigint",function(e){return typeof e=="bigint"},function(e,o){return n.is(e)?R(e):T(e,o)},m)||this;return n._tag="BigIntType",n}return t}(h);var di=new Qe,Ye=function(r){d(t,r);function t(){var n=r.call(this,"boolean",function(e){return typeof e=="boolean"},function(e,o){return n.is(e)?R(e):T(e,o)},m)||this;return n._tag="BooleanType",n}return t}(h);var rn=new Ye,ro=function(r){d(t,r);function t(){var n=r.call(this,"UnknownArray",Array.isArray,function(e,o){return n.is(e)?R(e):T(e,o)},m)||this;return n._tag="AnyArrayType",n}return t}(h);var Nr=new ro,to=function(r){d(t,r);function t(){var n=r.call(this,"UnknownRecord",function(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)},function(e,o){return n.is(e)?R(e):T(e,o)},m)||this;return n._tag="AnyDictionaryType",n}return t}(h);var br=new to;var no=function(r){d(t,r);function t(n,e,o,u,i){var a=r.call(this,n,e,o,u)||this;return a.value=i,a._tag="LiteralType",a}return t}(h);function s(r,t){t===void 0&&(t=JSON.stringify(r));var n=function(e){return e===r};return new no(t,n,function(e,o){return n(e)?R(r):T(e,o)},m,r)}var hi=function(r){d(t,r);function t(n,e,o,u,i){var a=r.call(this,n,e,o,u)||this;return a.keys=i,a._tag="KeyofType",a}return t}(h);var eo=function(r){d(t,r);function t(n,e,o,u,i,a){var c=r.call(this,n,e,o,u)||this;return c.type=i,c.predicate=a,c._tag="RefinementType",c}return t}(h);function oo(r,t,n){return en(r,t,n)}var mi=oo(er,function(r){return Number.isInteger(r)},"Int"),tn=function(r){d(t,r);function t(n,e,o,u,i){var a=r.call(this,n,e,o,u)||this;return a.runDefinition=i,a._tag="RecursiveType",a}return t}(h);Object.defineProperty(tn.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0});function nt(r,t){var n,e=function(){return n||(n=t(o),n.name=r),n},o=new tn(r,function(u){return e().is(u)},function(u,i){return e().validate(u,i)},function(u){return e().encode(u)},e);return o}var uo=function(r){d(t,r);function t(n,e,o,u,i){var a=r.call(this,n,e,o,u)||this;return a.type=i,a._tag="ArrayType",a}return t}(h);function S(r,t){return t===void 0&&(t="Array<".concat(r.name,">")),new uo(t,function(n){return Nr.is(n)&&n.every(r.is)},function(n,e){var o=Nr.validate(n,e);if(_(o))return o;for(var u=o.right,i=u.length,a=u,c=[],l=0;l<i;l++){var x=u[l],y=r.validate(x,tr(e,String(l),r,x));if(_(y))Fr(c,y.left);else{var g=y.right;g!==x&&(a===u&&(a=u.slice()),a[l]=g)}}return c.length>0?nr(c):R(a)},r.encode===m?m:function(n){return n.map(r.encode)},r)}var ao=function(r){d(t,r);function t(n,e,o,u,i){var a=r.call(this,n,e,o,u)||this;return a.props=i,a._tag="InterfaceType",a}return t}(h);function I(r,t){t===void 0&&(t=we(r));var n=Object.keys(r),e=n.map(function(u){return r[u]}),o=n.length;return new ao(t,function(u){if(br.is(u)){for(var i=0;i<o;i++){var a=n[i],c=u[a];if(c===void 0&&!Sr.call(u,a)||!e[i].is(c))return!1}return!0}return!1},function(u,i){var a=br.validate(u,i);if(_(a))return a;for(var c=a.right,l=c,x=[],y=0;y<o;y++){var g=n[y],w=l[g],xr=e[y],N=xr.validate(w,tr(i,g,xr,w));if(_(N))Fr(x,N.left);else{var Z=N.right;(Z!==w||Z===void 0&&!Sr.call(l,g))&&(l===c&&(l=Or({},c)),l[g]=Z)}}return x.length>0?nr(x):R(l)},wr(e)?m:function(u){for(var i=Or({},u),a=0;a<o;a++){var c=n[a],l=e[a].encode;l!==m&&(i[c]=l(u[c]))}return i},r)}var gi=function(r){d(t,r);function t(n,e,o,u,i){var a=r.call(this,n,e,o,u)||this;return a.props=i,a._tag="PartialType",a}return t}(h);var yi=function(r){d(t,r);function t(n,e,o,u,i,a){var c=r.call(this,n,e,o,u)||this;return c.domain=i,c.codomain=a,c._tag="DictionaryType",c}return t}(h);var nn=function(r){d(t,r);function t(n,e,o,u,i){var a=r.call(this,n,e,o,u)||this;return a.types=i,a._tag="UnionType",a}return t}(h);function or(r,t){t===void 0&&(t=Ne(r));var n=He(r);if(n!==void 0&&r.length>0){var e=n[0],o=n[1],u=o.length,i=function(a){for(var c=0;c<u;c++)if(o[c].indexOf(a)!==-1)return c};return new vo(t,function(a){if(br.is(a)){var c=i(a[e]);return c!==void 0?r[c].is(a):!1}return!1},function(a,c){var l=br.validate(a,c);if(_(l))return l;var x=l.right,y=i(x[e]);if(y===void 0)return T(a,c);var g=r[y];return g.validate(x,tr(c,String(y),g,x))},wr(r)?m:function(a){var c=i(a[e]);if(c===void 0)throw new Error("no codec found to encode value in union codec ".concat(t));return r[c].encode(a)},r,e)}else return new nn(t,function(a){return r.some(function(c){return c.is(a)})},function(a,c){for(var l=[],x=0;x<r.length;x++){var y=r[x],g=y.validate(a,tr(c,String(x),y,a));if(_(g))Fr(l,g.left);else return R(g.right)}return nr(l)},wr(r)?m:function(a){for(var c=0,l=r;c<l.length;c++){var x=l[c];if(x.is(a))return x.encode(a)}throw new Error("no codec found to encode value in union type ".concat(t))},r)}var Ri=function(r){d(t,r);function t(n,e,o,u,i){var a=r.call(this,n,e,o,u)||this;return a.types=i,a._tag="IntersectionType",a}return t}(h);var io=function(r){d(t,r);function t(n,e,o,u,i){var a=r.call(this,n,e,o,u)||this;return a.types=i,a._tag="TupleType",a}return t}(h);function J(r,t){t===void 0&&(t="[".concat(r.map(function(e){return e.name}).join(", "),"]"));var n=r.length;return new io(t,function(e){return Nr.is(e)&&e.length===n&&r.every(function(o,u){return o.is(e[u])})},function(e,o){var u=Nr.validate(e,o);if(_(u))return u;for(var i=u.right,a=i.length>n?i.slice(0,n):i,c=[],l=0;l<n;l++){var x=i[l],y=r[l],g=y.validate(x,tr(o,String(l),y,x));if(_(g))Fr(c,g.left);else{var w=g.right;w!==x&&(a===i&&(a=i.slice()),a[l]=w)}}return c.length>0?nr(c):R(a)},wr(r)?m:function(e){return r.map(function(o,u){return o.encode(e[u])})},r)}var _i=function(r){d(t,r);function t(n,e,o,u,i){var a=r.call(this,n,e,o,u)||this;return a.type=i,a._tag="ReadonlyType",a}return t}(h);var Ti=function(r){d(t,r);function t(n,e,o,u,i){var a=r.call(this,n,e,o,u)||this;return a.type=i,a._tag="ReadonlyArrayType",a}return t}(h);var Ii=function(r){d(t,r);function t(n,e,o,u,i){var a=r.call(this,n,e,o,u)||this;return a.type=i,a._tag="ExactType",a}return t}(h);var po=function(r){d(t,r);function t(){var n=r.call(this,"Function",function(e){return typeof e=="function"},function(e,o){return n.is(e)?R(e):T(e,o)},m)||this;return n._tag="FunctionType",n}return t}(h);var Ai=new po,co=function(r){d(t,r);function t(){var n=r.call(this,"never",function(e){return!1},function(e,o){return T(e,o)},function(){throw new Error("cannot encode never")})||this;return n._tag="NeverType",n}return t}(h);var Mi=new co,fo=function(r){d(t,r);function t(){var n=r.call(this,"any",function(e){return!0},R,m)||this;return n._tag="AnyType",n}return t}(h);var Ei=new fo;function en(r,t,n){return n===void 0&&(n="(".concat(r.name," | ").concat(Oe(t),")")),new eo(n,function(e){return r.is(e)&&t(e)},function(e,o){var u=r.validate(e,o);if(_(u))return u;var i=u.right;return t(i)?R(i):T(i,o)},r.encode,r,t)}var Wi=en(er,Number.isInteger,"Integer"),vo=function(r){d(t,r);function t(n,e,o,u,i,a){var c=r.call(this,n,e,o,u,i)||this;return c.tag=a,c}return t}(nn);var lo=function(r){d(t,r);function t(){var n=r.call(this,"object",function(e){return e!==null&&typeof e=="object"},function(e,o){return n.is(e)?R(e):T(e,o)},m)||this;return n._tag="ObjectType",n}return t}(h);var qi=new lo;var Ui=function(r){d(t,r);function t(n,e,o,u,i){var a=r.call(this,n,e,o,u)||this;return a.props=i,a._tag="StrictType",a}return t}(h);var Vr=nt("DValue",()=>or([I({Int:er}),I({Float:er}),I({Bool:rn}),I({Str:q}),I({List:S(Vr)}),I({Obj:S(J([q,Vr]))})])),xo=I({Msg:J([q,Vr])}),ho=or([I({Id:q}),I({Class:q}),I({Style:q}),I({OnClick:xo}),I({Src:q})]),mo=or([s("Div"),s("P"),s("H1"),s("H2"),s("H3"),s("H4"),s("H5"),s("H6"),s("Span"),s("Section"),s("Article"),s("Aside"),s("Audio"),s("B"),s("Br"),s("Button"),s("Code"),s("Em"),s("Fieldset"),s("Form"),s("Img"),s("Input"),s("Label"),s("Link"),s("Li"),s("Menu"),s("Nav"),s("Ol"),s("Option"),s("Select"),s("Style"),s("Svg"),s("Table"),s("Td"),s("Th"),s("Ul"),s("Video"),s("Frag"),s("Text"),s("Script")]),on=nt("DHtml",()=>I({kind:mo,kids:S(on),text:or([q,Yt]),attrs:S(ho)})),et=S(J([q,Vr])),Oi=S(et),Si=S(J([q,et]));var go=S(on),wi=J([go,et]);var j=b(Lr());var it=b(F());function un(r){return r[0]}function an(r){return r[1]}var G=un,pn=an;var ot={equals:function(r,t){return r===t}};var Oo={concat:function(r,t){return r&&t}},So={concat:function(r,t){return r||t}},fn={concat:Oo.concat,empty:!0},vn={concat:So.concat,empty:!1},Di={equals:ot.equals,compare:function(r,t){return r<t?-1:r>t?1:0}};var Cr=b(F());var M=V,E=L;var wo=function(r){return r._tag==="Left"?M:E(r.right)},ln=function(r,t){return O(r,U(t))},No=function(r,t){return O(r,bo(t))};var ut="Option";var U=function(r){return function(t){return P(t)?M:E(r(t.value))}},sn={URI:ut,map:ln},ki=W(2,X(sn)),Ji=_r(sn);var bo=function(r){return function(t){return P(t)||P(r)?M:E(t.value(r.value))}};var Fo=W(2,function(r,t){return P(r)?M:t(r.value)}),xn={URI:ut,map:ln,ap:No,chain:Fo};var Gi=W(2,function(r,t){return P(r)?t():r});var Vo=wo,Lo={URI:ut,fromEither:Vo};var P=function(r){return r._tag==="None"},Do=function(r,t){return function(n){return P(n)?r():t(n.value)}};var dn=Do;var Co=function(r){return function(t){return P(t)?r():t.value}},Dr=Co;var Zi=W(2,z(xn)),$i=W(2,_t(Lo,xn));var ar=r=>"Int"in r,ir=r=>"Float"in r,pr=r=>"Str"in r,cr=r=>"Bool"in r,fr=r=>"List"in r,vr=r=>"Obj"in r;var Bo=r=>({Int:r}),Po=r=>({Float:r}),jo=r=>({Str:r}),Ko=r=>({Bool:r});var hn=r=>({Obj:(0,Cr.pipe)(r,C(([t,n])=>U(e=>[t,e])(ur(n))))}),mn=r=>typeof r=="number"?r%1!==0:!1,zo=r=>typeof r=="number"&&!mn(r),Ho=r=>typeof r=="boolean",gn=r=>typeof r=="string",yn=r=>!Array.isArray(r)||r.length===0||!Array.isArray(r[0])&&r[0].length===2?!1:gn(r[0][0]),ko=r=>Array.isArray(r)&&!yn(r),ur=r=>mn(r)?E(Po(r)):zo(r)?E(Bo(r)):Ho(r)?E(Ko(r)):gn(r)?E(jo(r)):ko(r)?(0,Cr.pipe)(r,C(ur),t=>t.length!==r.length?M:E({List:t})):yn(r)?(0,Cr.pipe)(r,C(([t,n])=>U(e=>[t,e])(ur(n))),t=>t.length!==r.length?M:E({Obj:t})):M;var Rn=(0,j.fromEquals)(([r,t],[n,e])=>k.equals(r,n)),Br=(0,j.fromEquals)(([r,t],[n,e])=>k.equals(r,n)?_n.equals(t,e):!1),cp=(0,j.fromEquals)((r,t)=>(0,it.pipe)(Mr(r)(t),Xr(fn)(([n,e])=>Br.equals(n,e)))),pt=(0,j.fromEquals)((r,t)=>(0,it.pipe)(Mr(r)(t),Xr(vn)(([n,e])=>Rn.equals(n,e)))),_n=(0,j.fromEquals)((r,t)=>ar(r)&&ar(t)?rr.equals(r.Int,t.Int):ir(r)&&ir(t)?rr.equals(r.Float,t.Float):pr(r)&&pr(t)?k.equals(r.Str,t.Str):cr(r)&&cr(t)?ot.equals(r.Bool,t.Bool):fr(r)&&fr(t)?Yr(_n).equals(r.List,t.List):vr(r)&&vr(t)?Yr(Br).equals(Array.from(r.Obj.values()),Array.from(t.Obj.values())):!1),fp=(0,j.fromEquals)((r,t)=>k.equals(G(r),G(t)));var lr=b(F());var An=b(Lr());var ft=b(F());var In=b(Tn());var vt=r=>t=>(0,ft.pipe)(t,Ht(([n,e])=>n===r),U(pn),dn(()=>M,n=>lu(n)?E(n):M));var lu=r=>ar(r)||ir(r)||cr(r)||pr(r)||fr(r)?!0:vr(r);var lt=r=>t=>H(t)?(0,ft.pipe)(Y(t),n=>{let e=zt(a=>r.equals(n,a))(Ir(t)),o=e.init,u=e.rest;return Gr(Gr(n)(o))(lt(r)(u))}):[];var su=(0,In.fromCompare)((r,t)=>Jt.compare(G(r),G(t))),Wp=kt(su);var sr=class r{lst=[];add(t,n){return this.lst.push([t,n]),this}build(){let t=u=>u[1]instanceof r,n=u=>typeof u[1]=="object"&&!Array.isArray(u[1]),e=u=>!t(u)&&!n(u),o=this.lst;return this.lst=[],(0,lr.pipe)([(0,lr.pipe)(Wr(t)(o),$r(([u,i])=>[u,{Obj:i.build()}])),(0,lr.pipe)(Wr(e)(o),C(([u,i])=>U(a=>[u,a])(ur(i)))),(0,lr.pipe)(Wr(n)(o))],lt(An.fromEquals(pt.equals)),C(Zr),Qr([],Er(Br)))}};var st=b(F());window.plugins.set("DependencyViewer",{init:()=>new sr().add("DependencyViewerInit",!1).add("DependencyViewerModel",JSON.stringify({nodes:[{id:"id1"},{id:"id2"}],links:[{source:"id1",target:"id1"},{source:"id1",target:"id2"}]})).build(),view:r=>new D().kids([new D().kind("Button").text("Render Dependency").attrs([{OnClick:{Msg:["dependency_render",{Int:0}]}}])]).build(),update:(r,t)=>{if(r.Msg[0]!=="dependency_render")return[];if((0,st.pipe)(t,vt("DependencyViewerInit"),U(u=>u.Bool),Dr(()=>!1)))return[];let e=(0,st.pipe)(t,vt("DependencyViewerModel"),Dr(()=>hn([]))),o=document.createElement("div");return o.id="graph",document.body.appendChild(o),window.plugins.get("DependencyViewerHelper").render(e),[]}});})();
