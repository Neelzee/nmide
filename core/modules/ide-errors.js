(()=>{var wr=Object.defineProperty;var Er=(r,t)=>{for(var e in t)wr(r,e,{get:t[e],enumerable:!0})};var or=(r,t)=>r==="noOp"?t:t==="noOp"?r:{then:[r,t]};var L=class{node;text;attr;constructor(){this.node="noOp",this.text="noOp",this.attr="noOp"}add(t,e,n){return this.node=or(this.node,{add:[e,n,t]}),this}build(){return{state:"noOp",ui:[this.node,this.text,this.attr]}}};var Ir=function(r,t,e){if(e||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return r.concat(i||Array.prototype.slice.call(t))};function ir(r){return r}function Q(r,t,e,n,o,i,u,a,p){switch(arguments.length){case 1:return r;case 2:return t(r);case 3:return e(t(r));case 4:return n(e(t(r)));case 5:return o(n(e(t(r))));case 6:return i(o(n(e(t(r)))));case 7:return u(i(o(n(e(t(r))))));case 8:return a(u(i(o(n(e(t(r)))))));case 9:return p(a(u(i(o(n(e(t(r))))))));default:{for(var c=arguments[0],l=1;l<arguments.length;l++)c=arguments[l](c);return c}}}var F=function(r,t){var e=typeof r=="number"?function(n){return n.length>=r}:r;return function(){var n=Array.from(arguments);return e(arguments)?t.apply(this,n):function(o){return t.apply(void 0,Ir([o],n,!1))}}};var ar=function(r){return r._tag==="Left"};var ur=function(r){return{_tag:"Left",left:r}},pr=function(r){return{_tag:"Right",right:r}};function fr(r){return function(t,e){return r.chain(t,function(n){return r.map(e(n),function(){return n})})}}function X(r){return function(t,e){return r.map(t,function(){return e})}}function cr(r){var t=X(r);return function(e){return t(e,void 0)}}var U=function(r){return{equals:function(t,e){return t===e||r(t,e)}}};var Mr={equals:function(r,t){return r===t}};var Lt=Mr.equals;var w={equals:function(r,t){return r===t}},Sr={concat:function(r,t){return r+t}},Nr="",Kt={concat:Sr.concat,empty:Nr},Wt={equals:w.equals,compare:function(r,t){return r<t?-1:r>t?1:0}};var G={};Er(G,{DAttrs:()=>Tr,DEvent:()=>nr,DHtml:()=>C,DHtmlKind:()=>_r,DInitDecoder:()=>wt,DMap:()=>D,DUpdateDecoder:()=>Or,DValue:()=>q,DViewDecoder:()=>Et});var lr=ur,K=pr,qr=F(2,function(r,t){return T(r)?r:t(r.right)}),sr=function(r,t){return Q(r,Dr(t))},Cr=function(r,t){return Q(r,Lr(t))};var Y="Either";var Dr=function(r){return function(t){return T(t)?t:K(r(t.right))}},vr={URI:Y,map:sr},un=F(2,X(vr)),pn=cr(vr);var Pr=function(r){return function(t){return T(t)?t:T(r)?r:K(t.right(r.right))}},Lr=Pr;var Fr={URI:Y,map:sr,ap:Cr,chain:qr};var Kr={URI:Y,fromEither:ir};var T=ar;var fn=F(2,fr(Fr));var cn={fromEither:Kr.fromEither};var s=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),W=function(){return W=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},W.apply(this,arguments)};var S=lr,_=function(r,t,e){return S([{value:r,context:t,message:e}])},m=K,v=function(){function r(t,e,n,o){this.name=t,this.is=e,this.validate=n,this.encode=o,this.decode=this.decode.bind(this)}return r.prototype.pipe=function(t,e){var n=this;return e===void 0&&(e="pipe(".concat(this.name,", ").concat(t.name,")")),new r(e,t.is,function(o,i){var u=n.validate(o,i);return T(u)?u:t.validate(u.right,i)},this.encode===g&&t.encode===g?g:function(o){return n.encode(t.encode(o))})},r.prototype.asDecoder=function(){return this},r.prototype.asEncoder=function(){return this},r.prototype.decode=function(t){return this.validate(t,[{key:"",type:this,actual:t}])},r}();var g=function(r){return r};function Wr(r){return r.displayName||r.name||"<function".concat(r.length,">")}function M(r,t,e,n){for(var o=r.length,i=Array(o+1),u=0;u<o;u++)i[u]=r[u];return i[o]={key:t,type:e,actual:n},i}function $(r,t){for(var e=t.length,n=0;n<e;n++)r.push(t[n])}var H=Object.prototype.hasOwnProperty;function Hr(r){return Object.keys(r).map(function(t){return"".concat(t,": ").concat(r[t].name)}).join(", ")}function B(r){for(var t=0;t<r.length;t++)if(r[t].encode!==g)return!1;return!0}function Br(r){return"{ ".concat(Hr(r)," }")}function Jr(r){return"("+r.map(function(t){return t.name}).join(" | ")+")"}function zr(r){return r.length>0}var O={};function gr(r,t){for(var e=[],n=0,o=r;n<o.length;n++){var i=o[n];t.indexOf(i)!==-1&&e.push(i)}return e}function kr(r,t){if(r===O)return t;if(t===O)return r;var e=Object.assign({},r);for(var n in t)if(H.call(r,n)){var o=gr(r[n],t[n]);if(zr(o))e[n]=o;else{e=O;break}}else e[n]=t[n];return e}function $r(r,t){if(r===O||t===O)return O;var e=O;for(var n in r)if(H.call(t,n)){var o=gr(r[n],t[n]);o.length===0&&(e===O&&(e={}),e[n]=r[n].concat(t[n]))}return e}function Gr(r){return r._tag==="LiteralType"}function Qr(r){return r._tag==="InterfaceType"}function Xr(r){return r._tag==="StrictType"}function Yr(r){return r._tag==="ExactType"}function Zr(r){return r._tag==="RefinementType"}function rt(r){return r._tag==="IntersectionType"}function tt(r){return r._tag==="UnionType"}function nt(r){return r._tag==="RecursiveType"}function et(r){return r._tag==="ReadonlyType"}var Z=[];function E(r){if(Z.indexOf(r)!==-1)return O;if(Qr(r)||Xr(r)){var t=O;for(var e in r.props){var n=r.props[e];Gr(n)&&(t===O&&(t={}),t[e]=[n.value])}return t}else{if(Yr(r)||Zr(r)||et(r))return E(r.type);if(rt(r))return r.types.reduce(function(i,u){return kr(i,E(u))},O);if(tt(r))return r.types.slice(1).reduce(function(i,u){return $r(i,E(u))},E(r.types[0]));if(nt(r)){Z.push(r);var o=E(r.type);return Z.pop(),o}}return O}function ot(r){var t=E(r[0]),e=Object.keys(t),n=r.length,o=function(c){for(var l=t[c].slice(),y=[t[c]],x=1;x<n;x++){var b=r[x],P=E(b),A=P[c];if(A===void 0)return"continue-keys";if(A.some(function(V){return l.indexOf(V)!==-1}))return"continue-keys";l.push.apply(l,A),y.push(A)}return{value:[c,y]}};r:for(var i=0,u=e;i<u.length;i++){var a=u[i],p=o(a);if(typeof p=="object")return p.value;switch(p){case"continue-keys":continue r}}}var it=function(r){s(t,r);function t(){var e=r.call(this,"null",function(n){return n===null},function(n,o){return e.is(n)?m(n):_(n,o)},g)||this;return e._tag="NullType",e}return t}(v);var xr=new it,at=function(r){s(t,r);function t(){var e=r.call(this,"undefined",function(n){return n===void 0},function(n,o){return e.is(n)?m(n):_(n,o)},g)||this;return e._tag="UndefinedType",e}return t}(v);var J=new at,ut=function(r){s(t,r);function t(){var e=r.call(this,"void",J.is,J.validate,g)||this;return e._tag="VoidType",e}return t}(v);var vn=new ut,pt=function(r){s(t,r);function t(){var e=r.call(this,"unknown",function(n){return!0},m,g)||this;return e._tag="UnknownType",e}return t}(v);var gn=new pt,ft=function(r){s(t,r);function t(){var e=r.call(this,"string",function(n){return typeof n=="string"},function(n,o){return e.is(n)?m(n):_(n,o)},g)||this;return e._tag="StringType",e}return t}(v);var h=new ft,ct=function(r){s(t,r);function t(){var e=r.call(this,"number",function(n){return typeof n=="number"},function(n,o){return e.is(n)?m(n):_(n,o)},g)||this;return e._tag="NumberType",e}return t}(v);var N=new ct,lt=function(r){s(t,r);function t(){var e=r.call(this,"bigint",function(n){return typeof n=="bigint"},function(n,o){return e.is(n)?m(n):_(n,o)},g)||this;return e._tag="BigIntType",e}return t}(v);var xn=new lt,st=function(r){s(t,r);function t(){var e=r.call(this,"boolean",function(n){return typeof n=="boolean"},function(n,o){return e.is(n)?m(n):_(n,o)},g)||this;return e._tag="BooleanType",e}return t}(v);var rr=new st,vt=function(r){s(t,r);function t(){var e=r.call(this,"UnknownArray",Array.isArray,function(n,o){return e.is(n)?m(n):_(n,o)},g)||this;return e._tag="AnyArrayType",e}return t}(v);var z=new vt,gt=function(r){s(t,r);function t(){var e=r.call(this,"UnknownRecord",function(n){return n!==null&&typeof n=="object"&&!Array.isArray(n)},function(n,o){return e.is(n)?m(n):_(n,o)},g)||this;return e._tag="AnyDictionaryType",e}return t}(v);var k=new gt;var xt=function(r){s(t,r);function t(e,n,o,i,u){var a=r.call(this,e,n,o,i)||this;return a.value=u,a._tag="LiteralType",a}return t}(v);function f(r,t){t===void 0&&(t=JSON.stringify(r));var e=function(n){return n===r};return new xt(t,e,function(n,o){return e(n)?m(r):_(n,o)},g,r)}var yn=function(r){s(t,r);function t(e,n,o,i,u){var a=r.call(this,e,n,o,i)||this;return a.keys=u,a._tag="KeyofType",a}return t}(v);var yt=function(r){s(t,r);function t(e,n,o,i,u,a){var p=r.call(this,e,n,o,i)||this;return p.type=u,p.predicate=a,p._tag="RefinementType",p}return t}(v);function mt(r,t,e){return dr(r,t,e)}var mn=mt(N,function(r){return Number.isInteger(r)},"Int"),yr=function(r){s(t,r);function t(e,n,o,i,u){var a=r.call(this,e,n,o,i)||this;return a.runDefinition=u,a._tag="RecursiveType",a}return t}(v);Object.defineProperty(yr.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0});function tr(r,t){var e,n=function(){return e||(e=t(o),e.name=r),e},o=new yr(r,function(i){return n().is(i)},function(i,u){return n().validate(i,u)},function(i){return n().encode(i)},n);return o}var dt=function(r){s(t,r);function t(e,n,o,i,u){var a=r.call(this,e,n,o,i)||this;return a.type=u,a._tag="ArrayType",a}return t}(v);function R(r,t){return t===void 0&&(t="Array<".concat(r.name,">")),new dt(t,function(e){return z.is(e)&&e.every(r.is)},function(e,n){var o=z.validate(e,n);if(T(o))return o;for(var i=o.right,u=i.length,a=i,p=[],c=0;c<u;c++){var l=i[c],y=r.validate(l,M(n,String(c),r,l));if(T(y))$(p,y.left);else{var x=y.right;x!==l&&(a===i&&(a=i.slice()),a[c]=x)}}return p.length>0?S(p):m(a)},r.encode===g?g:function(e){return e.map(r.encode)},r)}var ht=function(r){s(t,r);function t(e,n,o,i,u){var a=r.call(this,e,n,o,i)||this;return a.props=u,a._tag="InterfaceType",a}return t}(v);function d(r,t){t===void 0&&(t=Br(r));var e=Object.keys(r),n=e.map(function(i){return r[i]}),o=e.length;return new ht(t,function(i){if(k.is(i)){for(var u=0;u<o;u++){var a=e[u],p=i[a];if(p===void 0&&!H.call(i,a)||!n[u].is(p))return!1}return!0}return!1},function(i,u){var a=k.validate(i,u);if(T(a))return a;for(var p=a.right,c=p,l=[],y=0;y<o;y++){var x=e[y],b=c[x],P=n[y],A=P.validate(b,M(u,x,P,b));if(T(A))$(l,A.left);else{var V=A.right;(V!==b||V===void 0&&!H.call(c,x))&&(c===p&&(c=W({},p)),c[x]=V)}}return l.length>0?S(l):m(c)},B(n)?g:function(i){for(var u=W({},i),a=0;a<o;a++){var p=e[a],c=n[a].encode;c!==g&&(u[p]=c(i[p]))}return u},r)}var dn=function(r){s(t,r);function t(e,n,o,i,u){var a=r.call(this,e,n,o,i)||this;return a.props=u,a._tag="PartialType",a}return t}(v);var hn=function(r){s(t,r);function t(e,n,o,i,u,a){var p=r.call(this,e,n,o,i)||this;return p.domain=u,p.codomain=a,p._tag="DictionaryType",p}return t}(v);var mr=function(r){s(t,r);function t(e,n,o,i,u){var a=r.call(this,e,n,o,i)||this;return a.types=u,a._tag="UnionType",a}return t}(v);function I(r,t){t===void 0&&(t=Jr(r));var e=ot(r);if(e!==void 0&&r.length>0){var n=e[0],o=e[1],i=o.length,u=function(a){for(var p=0;p<i;p++)if(o[p].indexOf(a)!==-1)return p};return new bt(t,function(a){if(k.is(a)){var p=u(a[n]);return p!==void 0?r[p].is(a):!1}return!1},function(a,p){var c=k.validate(a,p);if(T(c))return c;var l=c.right,y=u(l[n]);if(y===void 0)return _(a,p);var x=r[y];return x.validate(l,M(p,String(y),x,l))},B(r)?g:function(a){var p=u(a[n]);if(p===void 0)throw new Error("no codec found to encode value in union codec ".concat(t));return r[p].encode(a)},r,n)}else return new mr(t,function(a){return r.some(function(p){return p.is(a)})},function(a,p){for(var c=[],l=0;l<r.length;l++){var y=r[l],x=y.validate(a,M(p,String(l),y,a));if(T(x))$(c,x.left);else return m(x.right)}return S(c)},B(r)?g:function(a){for(var p=0,c=r;p<c.length;p++){var l=c[p];if(l.is(a))return l.encode(a)}throw new Error("no codec found to encode value in union type ".concat(t))},r)}var Tn=function(r){s(t,r);function t(e,n,o,i,u){var a=r.call(this,e,n,o,i)||this;return a.types=u,a._tag="IntersectionType",a}return t}(v);var Tt=function(r){s(t,r);function t(e,n,o,i,u){var a=r.call(this,e,n,o,i)||this;return a.types=u,a._tag="TupleType",a}return t}(v);function j(r,t){t===void 0&&(t="[".concat(r.map(function(n){return n.name}).join(", "),"]"));var e=r.length;return new Tt(t,function(n){return z.is(n)&&n.length===e&&r.every(function(o,i){return o.is(n[i])})},function(n,o){var i=z.validate(n,o);if(T(i))return i;for(var u=i.right,a=u.length>e?u.slice(0,e):u,p=[],c=0;c<e;c++){var l=u[c],y=r[c],x=y.validate(l,M(o,String(c),y,l));if(T(x))$(p,x.left);else{var b=x.right;b!==l&&(a===u&&(a=u.slice()),a[c]=b)}}return p.length>0?S(p):m(a)},B(r)?g:function(n){return r.map(function(o,i){return o.encode(n[i])})},r)}var _n=function(r){s(t,r);function t(e,n,o,i,u){var a=r.call(this,e,n,o,i)||this;return a.type=u,a._tag="ReadonlyType",a}return t}(v);var On=function(r){s(t,r);function t(e,n,o,i,u){var a=r.call(this,e,n,o,i)||this;return a.type=u,a._tag="ReadonlyArrayType",a}return t}(v);var Rn=function(r){s(t,r);function t(e,n,o,i,u){var a=r.call(this,e,n,o,i)||this;return a.type=u,a._tag="ExactType",a}return t}(v);var _t=function(r){s(t,r);function t(){var e=r.call(this,"Function",function(n){return typeof n=="function"},function(n,o){return e.is(n)?m(n):_(n,o)},g)||this;return e._tag="FunctionType",e}return t}(v);var bn=new _t,Ot=function(r){s(t,r);function t(){var e=r.call(this,"never",function(n){return!1},function(n,o){return _(n,o)},function(){throw new Error("cannot encode never")})||this;return e._tag="NeverType",e}return t}(v);var An=new Ot,Rt=function(r){s(t,r);function t(){var e=r.call(this,"any",function(n){return!0},m,g)||this;return e._tag="AnyType",e}return t}(v);var wn=new Rt;function dr(r,t,e){return e===void 0&&(e="(".concat(r.name," | ").concat(Wr(t),")")),new yt(e,function(n){return r.is(n)&&t(n)},function(n,o){var i=r.validate(n,o);if(T(i))return i;var u=i.right;return t(u)?m(u):_(u,o)},r.encode,r,t)}var En=dr(N,Number.isInteger,"Integer"),bt=function(r){s(t,r);function t(e,n,o,i,u,a){var p=r.call(this,e,n,o,i,u)||this;return p.tag=a,p}return t}(mr);var At=function(r){s(t,r);function t(){var e=r.call(this,"object",function(n){return n!==null&&typeof n=="object"},function(n,o){return e.is(n)?m(n):_(n,o)},g)||this;return e._tag="ObjectType",e}return t}(v);var In=new At;var Vn=function(r){s(t,r);function t(e,n,o,i,u){var a=r.call(this,e,n,o,i)||this;return a.props=u,a._tag="StrictType",a}return t}(v);var q=tr("DValue",()=>I([d({int:N}),d({float:N}),d({bool:rr}),d({str:h}),d({list:R(q)}),d({obj:R(j([h,q]))})])),nr=d({eventName:h,moduleName:h,args:I([q,xr])}),Tr=I([d({id:h}),d({class:h}),d({style:h}),d({onClick:nr}),d({onInput:nr}),d({emitInput:h}),d({src:h}),d({type:h}),d({checked:rr})]),_r=I([f("div"),f("p"),f("h1"),f("h2"),f("h3"),f("h4"),f("h5"),f("h6"),f("span"),f("section"),f("article"),f("aside"),f("audio"),f("b"),f("br"),f("button"),f("code"),f("em"),f("fieldset"),f("form"),f("img"),f("input"),f("label"),f("link"),f("li"),f("menu"),f("nav"),f("ol"),f("option"),f("select"),f("style"),f("svg"),f("table"),f("td"),f("th"),f("ul"),f("video"),f("frag"),f("text"),f("script"),f("tr"),f("tbody"),f("main")]),C=tr("DHtml",()=>d({kind:_r,kids:R(C),text:I([h,J]),attrs:R(Tr)})),D=R(j([h,q])),Or=R(j([h,D])),wt=Or,Et=R(j([h,C]));function Rr(r){return r[0]}var er=Rr;var Pn=U(([r,t],[e,n])=>w.equals(r,e)),Ln=U((r,t)=>w.equals(er(r),er(t)));var{DViewDecoder:Ut,DInitDecoder:Mt,DUpdateDecoder:St}=G,Yn={init:Mt,view:Ut,update:St,plugin_init:D,plugin_view:C,plugin_update:D,get_plugins:R(h)},Zn={pluginAssets:[],root:document.body,client:(r,t)=>new Promise(()=>{}),log:{info:console.log,error:console.error},listen:(r,t)=>new Promise(e=>e(void 0)),emit:(r,t)=>new Promise(e=>e()),getPluginPaths:new Promise(r=>r([])),pluginInstallers:[r=>new Promise(t=>t(void 0))]};var oe=U(({event:r,module:t},{event:e,module:n})=>w.equals(r,e)&&w.equals(t,n));var br=()=>({state:"noOp",ui:["noOp","noOp","noOp"]});var Ar="ide-errors";window.__nmideConfig__.modules.set(Ar,{init:async r=>(await r.registerHandler(Ar,"fsa-error",null),br()),handler:async(r,t)=>{let{args:e}=r,o={li:{kids:Object.keys(e).map(i=>[i,e[i]]).map(([i,u])=>({span:{kids:[{label:{kids:[],attrs:[],text:i}},{p:{kids:[],attrs:[],text:JSON.stringify(u)}}],attrs:[],text:null}})),attrs:[],text:""}};return new L().add(o,"errors",null).build()}});})();
